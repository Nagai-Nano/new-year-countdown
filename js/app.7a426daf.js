(function(t){function e(e){for(var r,a,s=e[0],l=e[1],c=e[2],h=0,f=[];h<s.length;h++)a=s[h],i[a]&&f.push(i[a][0]),i[a]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(f.length)f.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(r=!1)}r&&(o.splice(e--,1),t=a(a.s=n[0]))}return t}var r={},i={app:0},o=[];function a(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=r,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)a.d(n,r,function(e){return t[e]}.bind(null,r));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/new-year-countdown/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";var r=n("64a9"),i=n.n(r);i.a},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("097d");var r=n("2b0e"),i=n("8c4f"),o=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-screen h-screen overflow-hidden bg-black",attrs:{id:"app"}},[n("router-view")],1)},a=[],s={},l=s,c=(n("034f"),n("2877")),u=Object(c["a"])(l,o,a,!1,null,null,null);u.options.__file="App.vue";var h=u.exports,f=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-full flex justify-center items-center font-sans"},[n("div",{staticClass:"w-1/2"},[n("form",{staticClass:"bg-white shadow-md rounded px-8 pt-6 pb-8 mb-4",on:{submit:function(e){return e.preventDefault(),t.onSubmit(e)}}},[n("div",{staticClass:"mb-4"},[n("label",{staticClass:"block text-grey-darker text-lg font-bold mb-2"},[t._v("\n            Post ID\n          ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.postId,expression:"postId"}],staticClass:"shadow appearance-none border rounded w-full py-3 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",placeholder:"xxxxxxxxxx"},domProps:{value:t.postId},on:{input:function(e){e.target.composing||(t.postId=e.target.value)}}})]),n("div",{staticClass:"mb-6"},[n("label",{staticClass:"block text-grey-darker text-lg font-bold mb-2"},[t._v("\n            Access Token\n          ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.token,expression:"token"}],staticClass:"shadow appearance-none border rounded w-full py-3 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline",attrs:{type:"text",placeholder:"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx"},domProps:{value:t.token},on:{input:function(e){e.target.composing||(t.token=e.target.value)}}})]),n("button",{staticClass:"w-full bg-blue text-lg hover:bg-blue-dark text-white font-bold py-3 px-4 rounded focus:outline-none focus:shadow-outline"},[t._v("\n          Submit\n        ")])])])])},d=[],x={data:function(){return{postId:"",token:""}},methods:{onSubmit:function(){this.postId&&this.token&&(localStorage.setItem("postId",this.postId),localStorage.setItem("token",this.token),this.$router.push("/success"))}}},p=x,v=Object(c["a"])(p,f,d,!1,null,null,null);v.options.__file="Home.vue";var m=v.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-full"},[n("div",{staticClass:"absolute w-full h-full text-center text-white flex flex-col items-center justify-center"},[n("h1",{staticClass:"tracking-wide capitalize mb-3",staticStyle:{opacity:".9","font-size":"4rem"}},[t._v("chúc mừng năm hợi")]),n("Countdown",{on:{happyNewYear:t.happyNewYear}})],1),n("canvas",{ref:"canvas"})])},y=[],g=(n("ac6a"),n("6c7b"),n("d225")),b=n("b0b4"),k=["#ffffff","#FF0000","#33FF33","#CCFF00","#FF9900","#3399FF","#FF3399","#CC0066","#00FF00"],_=function(t){return Math.floor(Math.random()*t)},C=function(t,e){return Math.max(_(t+1),e)},A=function(){function t(e){Object(g["a"])(this,t),this.radius=C(5,2),this.width=e.width,this.height=e.height,this.x=this.width/2,this.y=this.height,this.color=k[_(k.length)],this.velocity={x:this.randX(),y:3*Math.random()+3},this.maxY=Math.random()*this.height/C(6,4)+this.height/C(10,2),this.life=!1}return Object(b["a"])(t,[{key:"randX",value:function(){return C(6,3)>3?Math.random()*C(6,2):Math.random()*C(6,3)-C(5,3)}},{key:"draw",value:function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}},{key:"maximumY",value:function(t){if(this.y<=this.maxY){this.life=!0;for(var e=0;e<10;e++)t.push(new F(this.x,this.y,this.radius,this.color))}if(this.x<=0||this.x>=this.width){this.life=!0;for(var n=0;n<10;n++)t.push(new F(this.x,this.y,this.radius,this.color))}}},{key:"update",value:function(t,e){this.y-=this.velocity.y,this.x+=this.velocity.x,this.maximumY(e),this.draw(t)}}]),t}(),F=function(){function t(e,n,r,i){Object(g["a"])(this,t),this.x=e,this.y=n,this.radius=r/2,this.color=i,this.velocity={x:3*Math.random()-1,y:3*Math.random()-1},this.friction=.015,this.life=150}return Object(b["a"])(t,[{key:"draw",value:function(t){t.beginPath(),t.arc(this.x,this.y,this.radius,0,2*Math.PI),t.fillStyle=this.color,t.fill(),t.closePath()}},{key:"update",value:function(t){this.velocity.y-=this.friction,this.life-=1,this.y-=this.velocity.y,this.x+=this.velocity.x,this.draw(t)}}]),t}(),j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex text-2xl"},t._l(t.timer,function(e,r){return n("p",{key:r,staticClass:"mx-5 flex flex-col p-4 border rounded-full",staticStyle:{width:"95px"}},[n("span",{staticClass:"pb-1"},[t._v(t._s(e))]),n("span",{staticClass:"capitalize"},[t._v(t._s(r))])])}),0)},I=[],S={data:function(){return{deadline:"February 5, 2019 00:00:00",timer:{days:"",hours:"",mins:"",secs:""}}},methods:{countdown:function(){var t=this,e=setInterval(function(){var n=new Date(t.deadline).getTime(),r=(new Date).getTime(),i=n-r;t.timer.days=t.zeroLead(Math.floor(i/864e5)),t.timer.hours=t.zeroLead(Math.floor(i%864e5/36e5)),t.timer.mins=t.zeroLead(Math.floor(i%36e5/6e4)),t.timer.secs=t.zeroLead(Math.floor(i%6e4/1e3)),i<1e3&&(clearInterval(e),t.$emit("happyNewYear"))},1e3)},zeroLead:function(t){return t<10?"0"+t:t}},created:function(){this.countdown()}},M=S,O=Object(c["a"])(M,j,I,!1,null,null,null);O.options.__file="Countdown.vue";var P=O.exports,$={data:function(){return{fireworkArr:[],sparkArr:[],next:"",interval:0}},methods:{fetchData:function(){var t=this,e=localStorage.getItem("postId"),n=localStorage.getItem("token");e&&n&&(this.interval=setInterval(function(){fetch("https://graph.facebook.com/v3.2/".concat(e,"/comments?access_token=").concat(n,"&pretty=0&fields=id&limit=15&after=").concat(t.next)).then(function(t){return t.json()}).then(function(e){var n=e.data.length;n>0&&(t.next=e.paging.cursors.after,t.addFirework(n))})},2e3))},addFirework:function(t){for(var e=1;e<=t;e++)this.fireworkArr.push(new A(this.$refs.canvas))},render:function(){var t=this,e=this.$refs.canvas;e.width=window.innerWidth,e.height=window.innerHeight;var n=e.width,r=e.height,i=e.getContext("2d"),o=function e(){requestAnimationFrame(e),i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,n,r),t.fireworkArr.length<0||(t.fireworkArr.forEach(function(e,n){e.update(i,t.sparkArr),e.life&&t.fireworkArr.splice(n,1)}),t.sparkArr.forEach(function(e,n){e.life<=0&&t.sparkArr.splice(n,1),e.update(i)}))};o()},happyNewYear:function(){var t=this;clearInterval(this.interval),this.addFirework(20),setInterval(function(){t.fireworkArr.length<20&&t.fireworkArr.push(new A(t.$refs.canvas))},100)}},components:{Countdown:P},mounted:function(){this.fetchData(),this.render()}},z=$,E=Object(c["a"])(z,w,y,!1,null,null,null);E.options.__file="Success.vue";var Y=E.exports,D=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"w-full h-full"},[n("div",{staticClass:"absolute w-full h-full text-center text-white flex flex-col items-center justify-center"},[n("h1",{staticClass:"tracking-wide capitalize mb-3",staticStyle:{opacity:".9","font-size":"4rem"}},[t._v("chúc mừng năm hợi")]),n("Countdown")],1),n("canvas",{ref:"canvas"})])},N=[],T={data:function(){return{fireworkArr:[],sparkArr:[]}},methods:{addFirework:function(){this.fireworkArr.length<20&&this.fireworkArr.push(new A(this.$refs.canvas))},render:function(){var t=this,e=this.$refs.canvas;e.width=window.innerWidth,e.height=window.innerHeight;var n=e.width,r=e.height,i=e.getContext("2d"),o=function e(){requestAnimationFrame(e),i.fillStyle="rgba(0, 0, 0, .1)",i.fillRect(0,0,n,r),t.fireworkArr.forEach(function(e,n){e.update(i,t.sparkArr),e.life&&t.fireworkArr.splice(n,1)}),t.sparkArr.forEach(function(e,n){e.life<=0&&t.sparkArr.splice(n,1),e.update(i)}),t.addFirework()};o()}},mounted:function(){this.render()},components:{Countdown:P}},L=T,H=Object(c["a"])(L,D,N,!1,null,null,null);H.options.__file="Static.vue";var q=H.exports,J=[{path:"/",component:m},{path:"/success",component:Y},{path:"/static",component:q},{path:"*",redirect:"/"}],R=J;r["a"].config.productionTip=!1,r["a"].use(i["a"]);var W=new i["a"]({mode:"hash",routes:R});new r["a"]({render:function(t){return t(h)},router:W}).$mount("#app")},"64a9":function(t,e,n){}});
//# sourceMappingURL=app.7a426daf.js.map